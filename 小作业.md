# PingCAP
work
Range分区测试用例
1)、建表语句
CREATE TABLE employees (
    id INT NOT NULL,
    fname VARCHAR(30),
    lname VARCHAR(30),
    hired DATE NOT NULL DEFAULT '1970-01-01',
    separated DATE NOT NULL DEFAULT '9999-12-31',
    job_code INT NOT NULL,
    store_id INT NOT NULL);
2)、分区方式
1)、按store_id进行分区
CREATE TABLE employees (
    id INT NOT NULL,
    fname VARCHAR(30),
    lname VARCHAR(30),
    hired DATE NOT NULL DEFAULT '1970-01-01',
    separated DATE NOT NULL DEFAULT '9999-12-31',
    job_code INT NOT NULL,
    store_id INT NOT NULL)
PARTITION BY RANGE (store_id) (
    PARTITION p0 VALUES LESS THAN (6),
    PARTITION p1 VALUES LESS THAN (11),
    PARTITION p2 VALUES LESS THAN (16),
    PARTITION p3 VALUES LESS THAN (21));






 测试用例
输入	输出
(1,‘a’,‘b’,‘2021-02-27’,NULL,1)	存储到p0分区
(2,‘c’,‘d’,‘2021-02-27’,NULL,6)	存储到p1分区
(3,‘e’,‘f’,‘2021-02-27’,NULL,13)	存储到p2分区
(4,‘h’,‘i’,‘2021-02-27’,NULL,16)	存储到p3分区
(5,‘j’,‘k’,‘2021-02-27’,NULL,21)	未找到对应存储分区
2)、修改store_id最后一个分区为最大值
CREATE TABLE employees (
    id INT NOT NULL,
    fname VARCHAR(30),
    lname VARCHAR(30),
    hired DATE NOT NULL DEFAULT '1970-01-01',
    separated DATE NOT NULL DEFAULT '9999-12-31',
    job_code INT NOT NULL,
    store_id INT NOT NULL)
PARTITION BY RANGE (store_id) (
    PARTITION p0 VALUES LESS THAN (6),
    PARTITION p1 VALUES LESS THAN (11),
    PARTITION p2 VALUES LESS THAN (16),
    PARTITION p3 VALUES LESS THAN MAXVALUE);
